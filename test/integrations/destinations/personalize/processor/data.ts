export const data = [
  {
    name: 'personalize',
    description: 'Test 0',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT ADDED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                movieWatched: 2,
                eventValue: 7.06,
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'MOVIE_WATCHED', to: 'movieWatched' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                ],
                datasetARN: '',
                eventChoice: 'PutEvents',
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            metadata: {
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              destinationType: 'PERSONALIZE',
              jobId: 1,
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
            },
            output: {
              sessionId: 'anon-id-new',
              trackingId: 'c60',
              userId: 'identified user id',
              eventList: [
                {
                  itemId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
                  eventType: 'PRODUCT ADDED',
                  sentAt: '2020-02-02T00:23:09.544Z',
                  properties: { movieWatched: '2', numberOfRatings: 'checking with webapp change' },
                },
              ],
            },
            statusCode: 200,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 1',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT DELETED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                ],
                region: 'us-east-1',
                datasetARN: '',
                eventChoice: 'PutEvents',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            output: {
              sessionId: 'anon-id-new',
              trackingId: 'c60',
              userId: 'identified user id',
              eventList: [
                {
                  itemId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
                  eventType: 'PRODUCT DELETED',
                  sentAt: '2020-02-02T00:23:09.544Z',
                  properties: {
                    typeOfMovie: 'Art Film',
                    numberOfRatings: 'checking with webapp change',
                  },
                },
              ],
            },
            statusCode: 200,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 2',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT DELETED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                  { from: 'ITEM_ID', to: 'itemId' },
                ],
                datasetARN: '',
                eventChoice: 'PutEvents',
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            output: {
              sessionId: 'anon-id-new',
              trackingId: 'c60',
              userId: 'identified user id',
              eventList: [
                {
                  itemId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
                  eventType: 'PRODUCT DELETED',
                  sentAt: '2020-02-02T00:23:09.544Z',
                  properties: {
                    typeOfMovie: 'Art Film',
                    numberOfRatings: 'checking with webapp change',
                  },
                },
              ],
            },
            statusCode: 200,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 3',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT DELETED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
                itemId: 'item 1',
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                  { from: 'ITEM_ID', to: 'itemId' },
                ],
                datasetARN: '',
                eventChoice: 'PutEvents',
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            output: {
              sessionId: 'anon-id-new',
              trackingId: 'c60',
              userId: 'identified user id',
              eventList: [
                {
                  itemId: 'item 1',
                  eventType: 'PRODUCT DELETED',
                  sentAt: '2020-02-02T00:23:09.544Z',
                  properties: {
                    typeOfMovie: 'Art Film',
                    numberOfRatings: 'checking with webapp change',
                  },
                },
              ],
            },
            statusCode: 200,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 4',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT DELETED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
                itemId: 'item 1',
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                ],
                datasetARN: '',
                eventChoice: 'PutEvents',
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            output: {
              sessionId: 'anon-id-new',
              trackingId: 'c60',
              userId: 'identified user id',
              eventList: [
                {
                  itemId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
                  eventType: 'PRODUCT DELETED',
                  sentAt: '2020-02-02T00:23:09.544Z',
                  properties: {
                    typeOfMovie: 'Art Film',
                    numberOfRatings: 'checking with webapp change',
                  },
                },
              ],
            },
            statusCode: 200,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 5',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT DELETED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
                itemId: 'item 1',
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                  { from: 'USER_ID', to: 'userId' },
                ],
                datasetARN: '',
                eventChoice: 'PutEvents',
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            output: {
              sessionId: 'anon-id-new',
              trackingId: 'c60',
              userId: 'identified user id',
              eventList: [
                {
                  itemId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
                  eventType: 'PRODUCT DELETED',
                  sentAt: '2020-02-02T00:23:09.544Z',
                  properties: {
                    typeOfMovie: 'Art Film',
                    numberOfRatings: 'checking with webapp change',
                  },
                },
              ],
            },
            statusCode: 200,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 6',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT DELETED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
                itemId: 'item 1',
                userId: 'user 1',
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                  { from: 'USER_ID', to: 'userId' },
                ],
                datasetARN: '',
                eventChoice: 'PutEvents',
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            output: {
              sessionId: 'anon-id-new',
              trackingId: 'c60',
              userId: 'user 1',
              eventList: [
                {
                  itemId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
                  eventType: 'PRODUCT DELETED',
                  sentAt: '2020-02-02T00:23:09.544Z',
                  properties: {
                    typeOfMovie: 'Art Film',
                    numberOfRatings: 'checking with webapp change',
                  },
                },
              ],
            },
            statusCode: 200,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 7',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT DELETED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
                itemId: 'item 1',
                userId: 'user 1',
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                ],
                datasetARN: '',
                eventChoice: 'PutEvents',
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            output: {
              sessionId: 'anon-id-new',
              trackingId: 'c60',
              userId: 'identified user id',
              eventList: [
                {
                  itemId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
                  eventType: 'PRODUCT DELETED',
                  sentAt: '2020-02-02T00:23:09.544Z',
                  properties: {
                    typeOfMovie: 'Art Film',
                    numberOfRatings: 'checking with webapp change',
                  },
                },
              ],
            },
            statusCode: 200,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 8',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT DELETED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
                itemId: 'item 1',
                userId: 'user 1',
                impressions: 'abc',
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                  { from: 'IMPRESSION', to: 'impressions' },
                ],
                datasetARN: '',
                eventChoice: 'PutEvents',
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            output: {
              userId: 'identified user id',
              sessionId: 'anon-id-new',
              trackingId: 'c60',
              eventList: [
                {
                  eventType: 'PRODUCT DELETED',
                  sentAt: '2020-02-02T00:23:09.544Z',
                  properties: {
                    typeOfMovie: 'Art Film',
                    numberOfRatings: 'checking with webapp change',
                  },
                  impression: ['abc'],
                  itemId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
                },
              ],
            },
            statusCode: 200,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 9',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT DELETED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
                itemId: 'item 1',
                userId: 'user 1',
                impressions: 'abc',
                eventValue: '3.4abc',
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                  { from: 'IMPRESSION', to: 'impressions' },
                  { from: 'EVENT_VALUE', to: 'eventValue' },
                ],
                datasetARN: '',
                eventChoice: 'PutEvents',
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            output: {
              userId: 'identified user id',
              sessionId: 'anon-id-new',
              trackingId: 'c60',
              eventList: [
                {
                  eventType: 'PRODUCT DELETED',
                  sentAt: '2020-02-02T00:23:09.544Z',
                  properties: {
                    typeOfMovie: 'Art Film',
                    numberOfRatings: 'checking with webapp change',
                  },
                  impression: ['abc'],
                  eventValue: 3.4,
                  itemId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
                },
              ],
            },
            statusCode: 200,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 10',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT DELETED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
                itemId: 'item 1',
                userId: 'user 1',
                impressions: [2, 3],
                eventValue: '3.4abc',
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                  { from: 'IMPRESSION', to: 'impressions' },
                  { from: 'EVENT_VALUE', to: 'eventValue' },
                ],
                datasetARN: '',
                eventChoice: 'PutEvents',
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            output: {
              userId: 'identified user id',
              sessionId: 'anon-id-new',
              trackingId: 'c60',
              eventList: [
                {
                  eventType: 'PRODUCT DELETED',
                  sentAt: '2020-02-02T00:23:09.544Z',
                  properties: {
                    typeOfMovie: 'Art Film',
                    numberOfRatings: 'checking with webapp change',
                  },
                  impression: ['2', '3'],
                  eventValue: 3.4,
                  itemId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
                },
              ],
            },
            statusCode: 200,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 11',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT DELETED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
                itemId: 'item 1',
                userId: 'user 1',
                impressions: [2, 3],
                eventValue: '3.4abc',
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                  { from: 'IMPRESSION', to: 'impressions' },
                  { from: 'EVENT_VALUE', to: 'eventValue' },
                ],
                datasetARN: '',
                eventChoice: 'PutEvents',
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            output: {
              userId: 'identified user id',
              sessionId: 'identified user id',
              trackingId: 'c60',
              eventList: [
                {
                  eventType: 'PRODUCT DELETED',
                  sentAt: '2020-02-02T00:23:09.544Z',
                  properties: {
                    typeOfMovie: 'Art Film',
                    numberOfRatings: 'checking with webapp change',
                  },
                  impression: ['2', '3'],
                  eventValue: 3.4,
                  itemId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
                },
              ],
            },
            statusCode: 200,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 12',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              channel: 'web',
              context: {
                app: {
                  build: '1.0.0',
                  name: 'RudderLabs JavaScript SDK',
                  namespace: 'com.rudderlabs.javascript',
                  version: '1.0.0',
                },
                library: { name: 'RudderLabs JavaScript SDK', version: '1.0.0' },
                userAgent:
                  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36',
                locale: 'en-US',
                ip: '0.0.0.0',
                os: { name: '', version: '' },
                screen: { density: 2 },
              },
              messageId: '84e26acc-56a5-4835-8233-591137fca468',
              session_id: '3049dc4c-5a95-4ccd-a3e7-d74a7e411f22',
              originalTimestamp: '2019-10-14T09:03:17.562Z',
              anonymousId: 'anon_id',
              userId: '123456',
              type: 'identify',
              traits: {
                anonymousId: 'anon_id',
                typeOfMovie: 'art film',
                numberOfRatings: '13',
                lastName: 'Doe',
                phone: '92374162212',
              },
              integrations: { All: true },
              sentAt: '2019-10-14T09:03:22.563Z',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                ],
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
                datasetARN:
                  'arn:aws:personalize:us-east-1:454531037350:dataset/putTest_DataSetGroup/USERS',
                eventChoice: 'PutUsers',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            output: {
              payload: {
                datasetArn:
                  'arn:aws:personalize:us-east-1:454531037350:dataset/putTest_DataSetGroup/USERS',
                users: [
                  {
                    userId: '123456',
                    properties: { typeOfMovie: 'art film', numberOfRatings: '13' },
                  },
                ],
              },
              choice: 'PutUsers',
              userId: '',
            },
            statusCode: 200,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 13',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT ADDED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
                eventValue: 7.06,
                itemId: 1,
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                  { from: 'ITEM_ID', to: 'properties.itemId' },
                ],
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
                datasetARN:
                  'arn:aws:personalize:us-east-1:454531037350:dataset/putTest_DataSetGroup/ITEMS',
                eventChoice: 'PutItems',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            output: {
              payload: {
                datasetArn:
                  'arn:aws:personalize:us-east-1:454531037350:dataset/putTest_DataSetGroup/ITEMS',
                items: [
                  {
                    properties: {
                      typeOfMovie: 'Art Film',
                      numberOfRatings: 'checking with webapp change',
                    },
                    itemId: '1',
                  },
                ],
              },
              choice: 'PutItems',
              userId: '',
            },
            statusCode: 200,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 14',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT ADDED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
                eventValue: 7.06,
                itemId: 1,
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                  { from: 'ITEM_ID', to: 'properties.itemId' },
                ],
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
                datasetARN:
                  'arn:aws:personalize:us-east-1:454531037350:dataset/putTest_DataSetGroup/ITEMS',
                eventChoice: 'PutItems',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            error: 'Event type is required',
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            statTags: {
              destType: 'PERSONALIZE',
              errorCategory: 'dataValidation',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              errorType: 'instrumentation',
              feature: 'processor',
              implementation: 'native',
              module: 'destination',
            },
            statusCode: 400,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 15',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT ADDED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                eventValue: 7.06,
                itemId: 1,
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                  { from: 'ITEM_ID', to: 'properties.itemId' },
                ],
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
                datasetARN:
                  'arn:aws:personalize:us-east-1:454531037350:dataset/putTest_DataSetGroup/ITEMS',
                eventChoice: 'PutItems',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            error: 'Mapped property typeOfMovie not found',
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            statTags: {
              destType: 'PERSONALIZE',
              errorCategory: 'dataValidation',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              errorType: 'instrumentation',
              feature: 'processor',
              implementation: 'native',
              module: 'destination',
            },
            statusCode: 400,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 16',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT ADDED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
                eventValue: 7.06,
                itemId: 1,
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                  { from: 'ITEM_ID', to: 'properties.itemId' },
                ],
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
                datasetARN:
                  'arn:aws:personalize:us-east-1:454531037350:dataset/putTest_DataSetGroup',
                eventChoice: 'PutItems',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            error: 'Either Dataset ARN is not correctly entered or invalid',
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            statTags: {
              destType: 'PERSONALIZE',
              errorCategory: 'dataValidation',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              errorType: 'configuration',
              feature: 'processor',
              implementation: 'native',
              module: 'destination',
            },
            statusCode: 400,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 17',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT ADDED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
                eventValue: 7.06,
                itemId: 1,
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                  { from: 'ITEM_ID', to: 'properties.itemId' },
                ],
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
                datasetARN: '',
                eventChoice: 'PutItems',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            error: 'Dataset ARN is a mandatory information to use putItems',
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            statTags: {
              destType: 'PERSONALIZE',
              errorCategory: 'dataValidation',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              errorType: 'configuration',
              feature: 'processor',
              implementation: 'native',
              module: 'destination',
            },
            statusCode: 400,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 18',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT ADDED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
                eventValue: 7.06,
                itemId: 1,
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                  { from: 'ITEM_ID', to: 'properties.itemId' },
                ],
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
                datasetARN: '',
                eventChoice: 'PutUsers',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            error: 'PutUsers is not supported for Track Calls',
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            statTags: {
              destType: 'PERSONALIZE',
              errorCategory: 'dataValidation',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              errorType: 'configuration',
              feature: 'processor',
              implementation: 'native',
              module: 'destination',
            },
            statusCode: 400,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 19',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT ADDED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
                eventValue: 7.06,
                itemId: 1,
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                  { from: 'ITEM_ID', to: 'properties.itemId' },
                ],
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: '',
                datasetARN:
                  'arn:aws:personalize:us-east-1:454531037350:dataset/putTest_DataSetGroup/ITEMS',
                eventChoice: 'PutEvents',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            error: 'Tracking Id is a mandatory information to use putEvents',
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            statTags: {
              destType: 'PERSONALIZE',
              errorCategory: 'dataValidation',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              errorType: 'configuration',
              feature: 'processor',
              implementation: 'native',
              module: 'destination',
            },
            statusCode: 400,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 20',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT ADDED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
                eventValue: 7.06,
                itemId: '',
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                  { from: 'ITEM_ID', to: 'properties.itemId' },
                ],
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
                datasetARN:
                  'arn:aws:personalize:us-east-1:454531037350:dataset/putTest_DataSetGroup/ITEMS',
                eventChoice: 'PutItems',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            error: 'itemId is a mandatory property for using PutItems',
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            statTags: {
              destType: 'PERSONALIZE',
              errorCategory: 'dataValidation',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              errorType: 'instrumentation',
              feature: 'processor',
              implementation: 'native',
              module: 'destination',
            },
            statusCode: 400,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 21',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: '',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
                eventValue: 7.06,
                itemId: '',
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                  { from: 'ITEM_ID', to: 'properties.itemId' },
                ],
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
                datasetARN:
                  'arn:aws:personalize:us-east-1:454531037350:dataset/putTest_DataSetGroup/ITEMS',
                eventChoice: 'PutEvents',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            error: 'Cannot process if no event name specified',
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            statTags: {
              destType: 'PERSONALIZE',
              errorCategory: 'dataValidation',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              errorType: 'instrumentation',
              feature: 'processor',
              implementation: 'native',
              module: 'destination',
            },
            statusCode: 400,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 22',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              channel: 'web',
              context: {
                app: {
                  build: '1.0.0',
                  name: 'RudderLabs JavaScript SDK',
                  namespace: 'com.rudderlabs.javascript',
                  version: '1.0.0',
                },
                library: { name: 'RudderLabs JavaScript SDK', version: '1.0.0' },
                userAgent:
                  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36',
                locale: 'en-US',
                ip: '0.0.0.0',
                os: { name: '', version: '' },
                screen: { density: 2 },
              },
              messageId: '84e26acc-56a5-4835-8233-591137fca468',
              session_id: '3049dc4c-5a95-4ccd-a3e7-d74a7e411f22',
              originalTimestamp: '2019-10-14T09:03:17.562Z',
              anonymousId: 'anon_id',
              userId: '123456',
              type: 'identify',
              traits: {
                anonymousId: 'anon_id',
                typeOfMovie: 'art film',
                numberOfRatings: 'DDLJ',
                lastName: 'Doe',
                phone: '92374162212',
              },
              integrations: { All: true },
              sentAt: '2019-10-14T09:03:22.563Z',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                ],
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: '',
                datasetARN:
                  'arn:aws:personalize:us-east-1:454531037350:dataset/putTest_DataSetGroup/USERS',
                eventChoice: 'PutItems',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            error: 'This Message Type does not support PutItems. Aborting message',
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            statTags: {
              destType: 'PERSONALIZE',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              errorCategory: 'dataValidation',
              errorType: 'configuration',
              feature: 'processor',
              implementation: 'native',
              module: 'destination',
            },
            statusCode: 400,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 23',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              channel: 'web',
              context: {
                app: {
                  build: '1.0.0',
                  name: 'RudderLabs JavaScript SDK',
                  namespace: 'com.rudderlabs.javascript',
                  version: '1.0.0',
                },
                library: { name: 'RudderLabs JavaScript SDK', version: '1.0.0' },
                userAgent:
                  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36',
                locale: 'en-US',
                ip: '0.0.0.0',
                os: { name: '', version: '' },
                screen: { density: 2 },
              },
              messageId: '84e26acc-56a5-4835-8233-591137fca468',
              session_id: '3049dc4c-5a95-4ccd-a3e7-d74a7e411f22',
              originalTimestamp: '2019-10-14T09:03:17.562Z',
              anonymousId: 'anon_id',
              userId: '123456',
              type: 'identify',
              traits: {
                anonymousId: 'anon_id',
                typeOfMovie: 'art film',
                numberOfRatings: 'DDLJ',
                lastName: 'Doe',
                phone: '92374162212',
              },
              integrations: { All: true },
              sentAt: '2019-10-14T09:03:22.563Z',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                ],
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: '',
                datasetARN: '',
                eventChoice: 'PutUsers',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            error: 'Dataset ARN is a mandatory information to use putUsers',
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            statTags: {
              destType: 'PERSONALIZE',
              errorCategory: 'dataValidation',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              errorType: 'configuration',
              feature: 'processor',
              implementation: 'native',
              module: 'destination',
            },
            statusCode: 400,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 24',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              channel: 'web',
              context: {
                app: {
                  build: '1.0.0',
                  name: 'RudderLabs JavaScript SDK',
                  namespace: 'com.rudderlabs.javascript',
                  version: '1.0.0',
                },
                library: { name: 'RudderLabs JavaScript SDK', version: '1.0.0' },
                userAgent:
                  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36',
                locale: 'en-US',
                ip: '0.0.0.0',
                os: { name: '', version: '' },
                screen: { density: 2 },
              },
              messageId: '84e26acc-56a5-4835-8233-591137fca468',
              session_id: '3049dc4c-5a95-4ccd-a3e7-d74a7e411f22',
              originalTimestamp: '2019-10-14T09:03:17.562Z',
              anonymousId: 'anon_id',
              userId: '123456',
              type: 'identify',
              traits: {
                anonymousId: 'anon_id',
                typeOfMovie: 'art film',
                numberOfRatings: 'DDLJ',
                lastName: 'Doe',
                phone: '92374162212',
              },
              integrations: { All: true },
              sentAt: '2019-10-14T09:03:22.563Z',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                ],
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: '',
                datasetARN:
                  'arn:aws:personalize:us-east-1:454531037350:dataset/putTest_DataSetGroup',
                eventChoice: 'PutUsers',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            error: 'Either Dataset ARN is not correctly entered or invalid',
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            statTags: {
              destType: 'PERSONALIZE',
              errorCategory: 'dataValidation',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              errorType: 'configuration',
              feature: 'processor',
              implementation: 'native',
              module: 'destination',
            },
            statusCode: 400,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 25',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              channel: 'web',
              context: {
                app: {
                  build: '1.0.0',
                  name: 'RudderLabs JavaScript SDK',
                  namespace: 'com.rudderlabs.javascript',
                  version: '1.0.0',
                },
                library: { name: 'RudderLabs JavaScript SDK', version: '1.0.0' },
                userAgent:
                  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36',
                locale: 'en-US',
                ip: '0.0.0.0',
                os: { name: '', version: '' },
                screen: { density: 2 },
              },
              messageId: '84e26acc-56a5-4835-8233-591137fca468',
              session_id: '3049dc4c-5a95-4ccd-a3e7-d74a7e411f22',
              originalTimestamp: '2019-10-14T09:03:17.562Z',
              anonymousId: 'anon_id',
              userId: '123456',
              type: 'identify',
              traits: {
                anonymousId: 'anon_id',
                typeOfMovie: 'art film',
                lastName: 'Doe',
                phone: '92374162212',
              },
              integrations: { All: true },
              sentAt: '2019-10-14T09:03:22.563Z',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                ],
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: '',
                datasetARN:
                  'arn:aws:personalize:us-east-1:454531037350:dataset/putTest_DataSetGroup/USERS',
                eventChoice: 'PutUsers',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            error: 'Mapped property numberOfRatings not found',
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            statTags: {
              destType: 'PERSONALIZE',
              errorCategory: 'dataValidation',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              errorType: 'instrumentation',
              feature: 'processor',
              implementation: 'native',
              module: 'destination',
            },
            statusCode: 400,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 26',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: '',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                typeOfMovie: 'Art Film',
                eventValue: 7.06,
                itemId: '',
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'screen',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'TYPE_OF_MOVIE', to: 'typeOfMovie' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                  { from: 'ITEM_ID', to: 'properties.itemId' },
                ],
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
                datasetARN:
                  'arn:aws:personalize:us-east-1:454531037350:dataset/putTest_DataSetGroup/ITEMS',
                eventChoice: 'PutEvents',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            error: 'Event type screen is not supported',
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            statTags: {
              destType: 'PERSONALIZE',
              errorCategory: 'dataValidation',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              errorType: 'instrumentation',
              feature: 'processor',
              implementation: 'native',
              module: 'destination',
            },
            statusCode: 400,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 27',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT ADDED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                movieWatched: 2,
                eventValue: 7.06,
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'MOVIE_WATCHED', to: 'movieWatched' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                ],
                datasetARN: '',
                eventChoice: 'PutEvents',
                stringifyProperty: true,
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            output: {
              sessionId: 'anon-id-new',
              trackingId: 'c60',
              userId: 'identified user id',
              eventList: [
                {
                  itemId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
                  eventType: 'PRODUCT ADDED',
                  sentAt: '2020-02-02T00:23:09.544Z',
                  properties: { movieWatched: '2', numberOfRatings: 'checking with webapp change' },
                },
              ],
            },
            statusCode: 200,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 28',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT ADDED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                movieWatched: 2,
                eventValue: 7.06,
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'MOVIE_WATCHED', to: 'movieWatched' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                ],
                datasetARN: '',
                eventChoice: 'PutEvents',
                disableStringify: true,
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            output: {
              sessionId: 'anon-id-new',
              trackingId: 'c60',
              userId: 'identified user id',
              eventList: [
                {
                  itemId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
                  eventType: 'PRODUCT ADDED',
                  sentAt: '2020-02-02T00:23:09.544Z',
                  properties: { movieWatched: 2, numberOfRatings: 'checking with webapp change' },
                },
              ],
            },
            statusCode: 200,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 29',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              anonymousId: 'anon-id-new',
              context: { ip: '14.5.67.21', library: { name: 'http' } },
              event: 'PRODUCT ADDED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2021-03-13T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                movieWatched: 2,
                eventValue: 7.06,
              },
              receivedAt: '2021-03-13T01:56:44.340+05:30',
              request_ip: '[::1]',
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              sentAt: '2021-03-13T01:56:46.896+05:30',
              timestamp: '2020-02-02T00:23:09.544Z',
              type: 'track',
              userId: 'identified user id',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'MOVIE_WATCHED', to: 'movieWatched' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                ],
                datasetARN: '',
                eventChoice: 'PutEvents',
                disableStringify: false,
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
              receivedAt: '2021-03-13T01:56:44.340+05:30',
            },
            output: {
              sessionId: 'anon-id-new',
              trackingId: 'c60',
              userId: 'identified user id',
              eventList: [
                {
                  itemId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
                  eventType: 'PRODUCT ADDED',
                  sentAt: '2020-02-02T00:23:09.544Z',
                  properties: { movieWatched: '2', numberOfRatings: 'checking with webapp change' },
                },
              ],
            },
            statusCode: 200,
          },
        ],
      },
    },
  },
  {
    name: 'personalize',
    description: 'Test 30',
    feature: 'processor',
    module: 'destination',
    version: 'v0',
    input: {
      request: {
        body: [
          {
            message: {
              context: {
                ip: '14.5.67.21',
                library: { name: 'http' },
                sessionId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              },
              event: 'PRODUCT ADDED',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              originalTimestamp: '2023-01-10T01:56:46.896+05:30',
              properties: {
                numberOfRatings: 'checking with webapp change',
                movieWatched: 2,
                eventValue: 7.06,
              },
              type: 'track',
            },
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
            },
            destination: {
              ID: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              Name: 'personalize Dev Testing',
              DestinationDefinition: {
                ID: '1pdthjPnz8gQhSTE2QTbm2LUMGM',
                Name: 'PERSONALIZE',
                DisplayName: 'AWS Personalize',
                Config: {
                  destConfig: {
                    defaultConfig: [
                      'accessKeyId',
                      'secretAccessKey',
                      'region',
                      'trackingId',
                      'eventName',
                      'customMappings',
                    ],
                  },
                  excludeKeys: [],
                  includeKeys: [],
                  saveDestinationResponse: true,
                  secretKeys: ['accessKeyId', 'secretAccessKey'],
                  supportedSourceTypes: [
                    'android',
                    'ios',
                    'web',
                    'unity',
                    'amp',
                    'cloud',
                    'reactnative',
                  ],
                  transformAt: 'processor',
                },
              },
              Config: {
                accessKeyId: 'ABC',
                customMappings: [
                  { from: 'MOVIE_WATCHED', to: 'movieWatched' },
                  { from: 'NUMBER_OF_RATINGS', to: 'numberOfRatings' },
                ],
                datasetARN: '',
                eventChoice: 'PutEvents',
                disableStringify: false,
                region: 'us-east-1',
                secretAccessKey: 'DEF',
                trackingId: 'c60',
              },
              Enabled: true,
              Transformations: [],
              IsProcessorEnabled: true,
            },
            libraries: [],
            request: { query: {} },
          },
        ],
        method: 'POST',
      },
      pathSuffix: '',
    },
    output: {
      response: {
        status: 200,
        body: [
          {
            metadata: {
              sourceId: '1pe7ty3hMMQCnrfZ0Mn2QG48884',
              destinationId: '1pe9WgFOuFHOSIfmUkkhVTD1Rsd',
              jobId: 1,
              destinationType: 'PERSONALIZE',
              messageId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              messageIds: null,
              rudderId: 'daf823fb-e8d3-413a-8313-d34cd756f968',
            },
            output: {
              sessionId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
              trackingId: 'c60',
              userId: '',
              eventList: [
                {
                  itemId: '4bb69e26-b5a6-446a-a140-dbb6263369c9',
                  eventType: 'PRODUCT ADDED',
                  sentAt: '2023-01-10T01:56:46.896+05:30',
                  properties: { movieWatched: '2', numberOfRatings: 'checking with webapp change' },
                },
              ],
            },
            statusCode: 200,
          },
        ],
      },
    },
  },
];

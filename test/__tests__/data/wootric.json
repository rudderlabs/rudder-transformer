[
  {
    "description": "Wrong Account Token Passed",
    "input": {
      "destination": {
        "Config": {
          "username": "wootricfakeuser@example.com",
          "password": "password@123",
          "accountToken": "NPS-99999"
        },
        "ID": "wootric-1234"
      },
      "message": {
        "type": "identify",
        "sentAt": "2022-01-20T13:39:21.033Z",
        "userId": "dummyId2",
        "channel": "web",
        "context": {},
        "rudderId": "553b5522-c575-40a7-8072-9741c5f9a647",
        "messageId": "831f1fa5-de84-4f22-880a-4c3f23fc3f04",
        "anonymousId": "bf412108-0357-4330-b119-7305e767823c",
        "integrations": {
          "All": true
        },
        "originalTimestamp": "2022-01-20T13:39:21.032Z"
      }
    },
    "output": {
      "statusCode": 400,
      "error": "Access token could not be generated due to {\"error\":\"Not found\",\"status\":404}"
    }
  },
  {
    "description": "Identify call for creating user",
    "input": {
      "destination": {
        "Config": {
          "username": "wootricfakeuser@example.com",
          "password": "password@123",
          "accountToken": "NPS-1234567"
        },
        "ID": "wootric-1234"
      },
      "message": {
        "type": "identify",
        "sentAt": "2022-01-20T13:39:21.033Z",
        "userId": "dummyId2",
        "channel": "web",
        "context": {
          "os": {
            "name": "",
            "version": ""
          },
          "app": {
            "name": "RudderLabs JavaScript SDK",
            "build": "1.0.0",
            "version": "1.2.20",
            "namespace": "com.rudderlabs.javascript"
          },
          "page": {
            "url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "path": "/Testing/App_for_LaunchDarkly/ourSdk.html",
            "title": "Document",
            "search": "",
            "tab_url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "referrer": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/",
            "initial_referrer": "$direct",
            "referring_domain": "127.0.0.1:7307",
            "initial_referring_domain": ""
          },
          "locale": "en-US",
          "screen": {
            "width": 1440,
            "height": 900,
            "density": 2,
            "innerWidth": 536,
            "innerHeight": 689
          },
          "traits": {
            "city": "Bangalore",
            "name": "Dummy User 2",
            "email": "dummyUser2@gmail.com",
            "phone": "+19123456777",
            "title": "SDE",
            "gender": "Male",
            "company": "Rudderstack",
            "createdAt": "2021-01-20T13:39:21.032Z"
          },
          "library": {
            "name": "RudderLabs JavaScript SDK",
            "version": "1.2.20"
          },
          "campaign": {},
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36"
        },
        "rudderId": "553b5522-c575-40a7-8072-9741c5f9a647",
        "messageId": "831f1fa5-de84-4f22-880a-4c3f23fc3f04",
        "anonymousId": "bf412108-0357-4330-b119-7305e767823c",
        "integrations": {
          "All": true
        },
        "originalTimestamp": "2022-01-20T13:39:21.032Z"
      }
    },
    "output": {
      "version": "1",
      "type": "REST",
      "method": "POST",
      "endpoint": "https://api.wootric.com/v1/end_users",
      "headers": {
        "Content-Type": "application/x-www-form-urlencoded",
        "Authorization": "Bearer 2fe581c1c72851e73d60f4191f720be93e5d3e8a6147e37c4e8e852b1a8f506c"
      },
      "params": {},
      "body": {
        "JSON": {},
        "JSON_ARRAY": {},
        "XML": {},
        "FORM": {
          "email": "dummyUser2@gmail.com",
          "phone_number": "+19123456777",
          "last_surveyed": "1642685961",
          "external_created_at": "1611149961",
          "external_id": "dummyId2",
          "properties[city]": "Bangalore",
          "properties[name]": "Dummy User 2",
          "properties[title]": "SDE",
          "properties[gender]": "Male",
          "properties[company]": "Rudderstack"
        }
      },
      "files": {}
    }
  },
  {
    "description": "Identify call for creating user without-sending email and sending phone number",
    "input": {
      "destination": {
        "Config": {
          "username": "wootricfakeuser@example.com",
          "password": "password@123",
          "accountToken": "NPS-1234567"
        },
        "ID": "wootric-1234"
      },
      "message": {
        "type": "identify",
        "sentAt": "2022-01-20T13:39:21.033Z",
        "userId": "dummyId2",
        "channel": "web",
        "context": {
          "os": {
            "name": "",
            "version": ""
          },
          "app": {
            "name": "RudderLabs JavaScript SDK",
            "build": "1.0.0",
            "version": "1.2.20",
            "namespace": "com.rudderlabs.javascript"
          },
          "page": {
            "url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "path": "/Testing/App_for_LaunchDarkly/ourSdk.html",
            "title": "Document",
            "search": "",
            "tab_url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "referrer": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/",
            "initial_referrer": "$direct",
            "referring_domain": "127.0.0.1:7307",
            "initial_referring_domain": ""
          },
          "locale": "en-US",
          "screen": {
            "width": 1440,
            "height": 900,
            "density": 2,
            "innerWidth": 536,
            "innerHeight": 689
          },
          "traits": {
            "city": "Bangalore",
            "name": "Dummy User 2",
            "phone": "+19123456777",
            "title": "SDE",
            "gender": "Male",
            "company": "Rudderstack",
            "createdAt": "2021-01-20T13:39:21.032Z"
          },
          "library": {
            "name": "RudderLabs JavaScript SDK",
            "version": "1.2.20"
          },
          "campaign": {},
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36"
        },
        "rudderId": "553b5522-c575-40a7-8072-9741c5f9a647",
        "messageId": "831f1fa5-de84-4f22-880a-4c3f23fc3f04",
        "anonymousId": "bf412108-0357-4330-b119-7305e767823c",
        "integrations": {
          "All": true
        },
        "originalTimestamp": "2022-01-20T13:39:21.032Z"
      }
    },
    "output": {
      "version": "1",
      "type": "REST",
      "method": "POST",
      "endpoint": "https://api.wootric.com/v1/end_users",
      "headers": {
        "Content-Type": "application/x-www-form-urlencoded",
        "Authorization": "Bearer 2fe581c1c72851e73d60f4191f720be93e5d3e8a6147e37c4e8e852b1a8f506c"
      },
      "params": {},
      "body": {
        "JSON": {},
        "JSON_ARRAY": {},
        "XML": {},
        "FORM": {
          "phone_number": "+19123456777",
          "last_surveyed": "1642685961",
          "external_created_at": "1611149961",
          "external_id": "dummyId2",
          "properties[city]": "Bangalore",
          "properties[name]": "Dummy User 2",
          "properties[title]": "SDE",
          "properties[gender]": "Male",
          "properties[company]": "Rudderstack"
        }
      },
      "files": {}
    }
  },
  {
    "description": "Identify call for creating user without-sending phone number and sending email",
    "input": {
      "destination": {
        "Config": {
          "username": "wootricfakeuser@example.com",
          "password": "password@123",
          "accountToken": "NPS-1234567"
        },
        "ID": "wootric-1234"
      },
      "message": {
        "type": "identify",
        "sentAt": "2022-01-20T13:39:21.033Z",
        "userId": "dummyId2",
        "channel": "web",
        "context": {
          "os": {
            "name": "",
            "version": ""
          },
          "app": {
            "name": "RudderLabs JavaScript SDK",
            "build": "1.0.0",
            "version": "1.2.20",
            "namespace": "com.rudderlabs.javascript"
          },
          "page": {
            "url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "path": "/Testing/App_for_LaunchDarkly/ourSdk.html",
            "title": "Document",
            "search": "",
            "tab_url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "referrer": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/",
            "initial_referrer": "$direct",
            "referring_domain": "127.0.0.1:7307",
            "initial_referring_domain": ""
          },
          "locale": "en-US",
          "screen": {
            "width": 1440,
            "height": 900,
            "density": 2,
            "innerWidth": 536,
            "innerHeight": 689
          },
          "traits": {
            "email": "dummyUser2@gmail.com",
            "city": "Bangalore",
            "name": "Dummy User 2",
            "title": "SDE",
            "gender": "Male",
            "company": "Rudderstack",
            "createdAt": "2021-01-20T13:39:21.032Z"
          },
          "library": {
            "name": "RudderLabs JavaScript SDK",
            "version": "1.2.20"
          },
          "campaign": {},
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36"
        },
        "rudderId": "553b5522-c575-40a7-8072-9741c5f9a647",
        "messageId": "831f1fa5-de84-4f22-880a-4c3f23fc3f04",
        "anonymousId": "bf412108-0357-4330-b119-7305e767823c",
        "integrations": {
          "All": true
        },
        "originalTimestamp": "2022-01-20T13:39:21.032Z"
      }
    },
    "output": {
      "version": "1",
      "type": "REST",
      "method": "POST",
      "endpoint": "https://api.wootric.com/v1/end_users",
      "headers": {
        "Content-Type": "application/x-www-form-urlencoded",
        "Authorization": "Bearer 2fe581c1c72851e73d60f4191f720be93e5d3e8a6147e37c4e8e852b1a8f506c"
      },
      "params": {},
      "body": {
        "JSON": {},
        "JSON_ARRAY": {},
        "XML": {},
        "FORM": {
          "email": "dummyUser2@gmail.com",
          "last_surveyed": "1642685961",
          "external_created_at": "1611149961",
          "external_id": "dummyId2",
          "properties[city]": "Bangalore",
          "properties[name]": "Dummy User 2",
          "properties[title]": "SDE",
          "properties[gender]": "Male",
          "properties[company]": "Rudderstack"
        }
      },
      "files": {}
    }
  },
  {
    "description": "Identify call for creating user without sending traits",
    "input": {
      "destination": {
        "Config": {
          "username": "wootricfakeuser@example.com",
          "password": "password@123",
          "accountToken": "NPS-1234567"
        },
        "ID": "wootric-1234"
      },
      "message": {
        "type": "identify",
        "sentAt": "2022-01-20T13:39:21.033Z",
        "userId": "dummyId2",
        "channel": "web",
        "context": {
          "os": {
            "name": "",
            "version": ""
          },
          "app": {
            "name": "RudderLabs JavaScript SDK",
            "build": "1.0.0",
            "version": "1.2.20",
            "namespace": "com.rudderlabs.javascript"
          },
          "page": {
            "url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "path": "/Testing/App_for_LaunchDarkly/ourSdk.html",
            "title": "Document",
            "search": "",
            "tab_url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "referrer": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/",
            "initial_referrer": "$direct",
            "referring_domain": "127.0.0.1:7307",
            "initial_referring_domain": ""
          },
          "locale": "en-US",
          "screen": {
            "width": 1440,
            "height": 900,
            "density": 2,
            "innerWidth": 536,
            "innerHeight": 689
          },
          "library": {
            "name": "RudderLabs JavaScript SDK",
            "version": "1.2.20"
          },
          "campaign": {},
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36"
        },
        "rudderId": "553b5522-c575-40a7-8072-9741c5f9a647",
        "messageId": "831f1fa5-de84-4f22-880a-4c3f23fc3f04",
        "anonymousId": "bf412108-0357-4330-b119-7305e767823c",
        "integrations": {
          "All": true
        },
        "originalTimestamp": "2022-01-20T13:39:21.032Z"
      }
    },
    "output": {
      "statusCode": 400,
      "error": "email/phone number are missing. At least one parameter must be provided",
      "statTags": {
        "destination": "wootric",
        "stage": "transform",
        "scope": "exception"
      }
    }
  },
  {
    "description": "Identify call for creating user without-sending (email and phone number)",
    "input": {
      "destination": {
        "Config": {
          "username": "wootricfakeuser@example.com",
          "password": "password@123",
          "accountToken": "NPS-1234567"
        },
        "ID": "wootric-1234"
      },
      "message": {
        "type": "identify",
        "sentAt": "2022-01-20T13:39:21.033Z",
        "userId": "dummyId2",
        "channel": "web",
        "context": {
          "os": {
            "name": "",
            "version": ""
          },
          "app": {
            "name": "RudderLabs JavaScript SDK",
            "build": "1.0.0",
            "version": "1.2.20",
            "namespace": "com.rudderlabs.javascript"
          },
          "page": {
            "url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "path": "/Testing/App_for_LaunchDarkly/ourSdk.html",
            "title": "Document",
            "search": "",
            "tab_url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "referrer": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/",
            "initial_referrer": "$direct",
            "referring_domain": "127.0.0.1:7307",
            "initial_referring_domain": ""
          },
          "locale": "en-US",
          "screen": {
            "width": 1440,
            "height": 900,
            "density": 2,
            "innerWidth": 536,
            "innerHeight": 689
          },
          "traits": {
            "city": "Mumbai",
            "name": "Dummy User 1",
            "title": "SDE",
            "gender": "Male",
            "company": "Rudderstack",
            "createdAt": "2021-01-20T13:39:21.032Z"
          },
          "library": {
            "name": "RudderLabs JavaScript SDK",
            "version": "1.2.20"
          },
          "campaign": {},
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36"
        },
        "rudderId": "553b5522-c575-40a7-8072-9741c5f9a647",
        "messageId": "831f1fa5-de84-4f22-880a-4c3f23fc3f04",
        "anonymousId": "bf412108-0357-4330-b119-7305e767823c",
        "integrations": {
          "All": true
        },
        "originalTimestamp": "2022-01-20T13:39:21.032Z"
      }
    },
    "output": {
      "statusCode": 400,
      "error": "email/phone number are missing. At least one parameter must be provided",
      "statTags": {
        "destination": "wootric",
        "stage": "transform",
        "scope": "exception"
      }
    }
  },
  {
    "description": "Identify call for updating existing user with wootric end user id",
    "input": {
      "destination": {
        "Config": {
          "username": "wootricfakeuser@example.com",
          "password": "password@123",
          "accountToken": "NPS-1234567"
        },
        "ID": "wootric-1234"
      },
      "message": {
        "type": "identify",
        "sentAt": "2022-01-20T13:39:21.033Z",
        "userId": "dummyId1",
        "channel": "web",
        "context": {
          "os": {
            "name": "",
            "version": ""
          },
          "app": {
            "name": "RudderLabs JavaScript SDK",
            "build": "1.0.0",
            "version": "1.2.20",
            "namespace": "com.rudderlabs.javascript"
          },
          "page": {
            "url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "path": "/Testing/App_for_LaunchDarkly/ourSdk.html",
            "title": "Document",
            "search": "",
            "tab_url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "referrer": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/",
            "initial_referrer": "$direct",
            "referring_domain": "127.0.0.1:7307",
            "initial_referring_domain": ""
          },
          "locale": "en-US",
          "screen": {
            "width": 1440,
            "height": 900,
            "density": 2,
            "innerWidth": 536,
            "innerHeight": 689
          },
          "traits": {
            "title": "VP",
            "gender": "Male"
          },
          "externalId": [
            {
              "type": "wootricEndUserId",
              "id": "490635419"
            }
          ],
          "library": {
            "name": "RudderLabs JavaScript SDK",
            "version": "1.2.20"
          },
          "campaign": {},
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36"
        },
        "rudderId": "553b5522-c575-40a7-8072-9741c5f9a647",
        "messageId": "831f1fa5-de84-4f22-880a-4c3f23fc3f04",
        "anonymousId": "bf412108-0357-4330-b119-7305e767823c",
        "integrations": {
          "All": true
        },
        "originalTimestamp": "2022-01-20T13:39:21.032Z"
      }
    },
    "output": {
      "version": "1",
      "type": "REST",
      "method": "PUT",
      "endpoint": "https://api.wootric.com/v1/end_users/490635419",
      "headers": {
        "Content-Type": "application/x-www-form-urlencoded",
        "Authorization": "Bearer 2fe581c1c72851e73d60f4191f720be93e5d3e8a6147e37c4e8e852b1a8f506c"
      },
      "params": {},
      "body": {
        "JSON": {},
        "JSON_ARRAY": {},
        "XML": {},
        "FORM": {
          "last_surveyed": "1642685961",
          "properties[Department]": "Marketing",
          "properties[product_plan]": "Web",
          "properties[revenue amount]": "5000",
          "properties[title]": "VP",
          "properties[gender]": "Male"
        }
      },
      "files": {}
    }
  },
  {
    "description": "Identify call for updating existing user with (wootric externalId/ rudderstack userId)",
    "input": {
      "destination": {
        "Config": {
          "username": "wootricfakeuser@example.com",
          "password": "password@123",
          "accountToken": "NPS-1234567"
        },
        "ID": "wootric-1234"
      },
      "message": {
        "type": "identify",
        "sentAt": "2022-01-20T13:39:21.033Z",
        "userId": "dummyId1",
        "channel": "web",
        "context": {
          "os": {
            "name": "",
            "version": ""
          },
          "app": {
            "name": "RudderLabs JavaScript SDK",
            "build": "1.0.0",
            "version": "1.2.20",
            "namespace": "com.rudderlabs.javascript"
          },
          "page": {
            "url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "path": "/Testing/App_for_LaunchDarkly/ourSdk.html",
            "title": "Document",
            "search": "",
            "tab_url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "referrer": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/",
            "initial_referrer": "$direct",
            "referring_domain": "127.0.0.1:7307",
            "initial_referring_domain": ""
          },
          "locale": "en-US",
          "screen": {
            "width": 1440,
            "height": 900,
            "density": 2,
            "innerWidth": 536,
            "innerHeight": 689
          },
          "traits": {
            "title": "VP",
            "gender": "Male"
          },
          "library": {
            "name": "RudderLabs JavaScript SDK",
            "version": "1.2.20"
          },
          "campaign": {},
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36"
        },
        "rudderId": "553b5522-c575-40a7-8072-9741c5f9a647",
        "messageId": "831f1fa5-de84-4f22-880a-4c3f23fc3f04",
        "anonymousId": "bf412108-0357-4330-b119-7305e767823c",
        "integrations": {
          "All": true
        },
        "originalTimestamp": "2022-01-20T13:39:21.032Z"
      }
    },
    "output": {
      "version": "1",
      "type": "REST",
      "method": "PUT",
      "endpoint": "https://api.wootric.com/v1/end_users/486438462",
      "headers": {
        "Content-Type": "application/x-www-form-urlencoded",
        "Authorization": "Bearer 2fe581c1c72851e73d60f4191f720be93e5d3e8a6147e37c4e8e852b1a8f506c"
      },
      "params": {},
      "body": {
        "JSON": {},
        "JSON_ARRAY": {},
        "XML": {},
        "FORM": {
          "last_surveyed": "1642685961",
          "properties[title]": "VP",
          "properties[gender]": "Male",
          "properties[city]": "Mumbai",
          "properties[name]": "Dummy User 1",
          "properties[company]": "Rudderstack"
        }
      },
      "files": {}
    }
  },
  {
    "description": "Identify call for updating user traits/properties",
    "input": {
      "destination": {
        "Config": {
          "username": "wootricfakeuser@example.com",
          "password": "password@123",
          "accountToken": "NPS-1234567"
        },
        "ID": "wootric-1234"
      },
      "message": {
        "type": "identify",
        "sentAt": "2022-01-20T13:39:21.033Z",
        "userId": "dummyId1",
        "channel": "web",
        "context": {
          "os": {
            "name": "",
            "version": ""
          },
          "app": {
            "name": "RudderLabs JavaScript SDK",
            "build": "1.0.0",
            "version": "1.2.20",
            "namespace": "com.rudderlabs.javascript"
          },
          "page": {
            "url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "path": "/Testing/App_for_LaunchDarkly/ourSdk.html",
            "title": "Document",
            "search": "",
            "tab_url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "referrer": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/",
            "initial_referrer": "$direct",
            "referring_domain": "127.0.0.1:7307",
            "initial_referring_domain": ""
          },
          "locale": "en-US",
          "screen": {
            "width": 1440,
            "height": 900,
            "density": 2,
            "innerWidth": 536,
            "innerHeight": 689
          },
          "traits": {
            "city": "Udaipur",
            "name": "Dummy User 1 New",
            "title": "SDE-2",
            "gender": "Male",
            "company": "Rudderstack"
          },
          "library": {
            "name": "RudderLabs JavaScript SDK",
            "version": "1.2.20"
          },
          "campaign": {},
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36"
        },
        "rudderId": "553b5522-c575-40a7-8072-9741c5f9a647",
        "messageId": "831f1fa5-de84-4f22-880a-4c3f23fc3f04",
        "anonymousId": "bf412108-0357-4330-b119-7305e767823c",
        "integrations": {
          "All": true
        },
        "originalTimestamp": "2022-01-20T13:39:21.032Z"
      }
    },
    "output": {
      "version": "1",
      "type": "REST",
      "method": "PUT",
      "endpoint": "https://api.wootric.com/v1/end_users/486438462",
      "headers": {
        "Content-Type": "application/x-www-form-urlencoded",
        "Authorization": "Bearer 2fe581c1c72851e73d60f4191f720be93e5d3e8a6147e37c4e8e852b1a8f506c"
      },
      "params": {},
      "body": {
        "JSON": {},
        "JSON_ARRAY": {},
        "XML": {},
        "FORM": {
          "last_surveyed": "1642685961",
          "properties[city]": "Udaipur",
          "properties[name]": "Dummy User 1 New",
          "properties[title]": "SDE-2",
          "properties[gender]": "Male",
          "properties[company]": "Rudderstack"
        }
      },
      "files": {}
    }
  },
  {
    "description": "Track call with existing userId and event type as create response",
    "input": {
      "destination": {
        "Config": {
          "username": "wootricfakeuser@example.com",
          "password": "password@123",
          "accountToken": "NPS-1234567"
        },
        "ID": "wootric-1234"
      },
      "message": {
        "type": "track",
        "sentAt": "2022-01-20T13:39:21.033Z",
        "userId": "dummyId1",
        "channel": "web",
        "properties": {
          "feedbackScore": 7,
          "feedbackText": "Simple, Easy to use, Reliable, Affordable Product"
        },
        "context": {
          "os": {
            "name": "",
            "version": ""
          },
          "app": {
            "name": "RudderLabs JavaScript SDK",
            "build": "1.0.0",
            "version": "1.2.20",
            "namespace": "com.rudderlabs.javascript"
          },
          "page": {
            "url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "path": "/Testing/App_for_LaunchDarkly/ourSdk.html",
            "title": "Document",
            "search": "",
            "tab_url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "referrer": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/",
            "initial_referrer": "$direct",
            "referring_domain": "127.0.0.1:7307",
            "initial_referring_domain": ""
          },
          "locale": "en-US",
          "ip": "0.0.0.0",
          "screen": {
            "width": 1440,
            "height": 900,
            "density": 2,
            "innerWidth": 536,
            "innerHeight": 689
          },
          "traits": {
            "city": "Mumbai",
            "name": "Dummy User 1",
            "email": "dummyUser1@gmail.com",
            "title": "SDE",
            "gender": "Male",
            "company": "Rudderstack",
            "createdAt": "2021-01-20T13:39:21.032Z"
          },
          "library": {
            "name": "RudderLabs JavaScript SDK",
            "version": "1.2.20"
          },
          "campaign": {},
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36"
        },
        "rudderId": "553b5522-c575-40a7-8072-9741c5f9a647",
        "messageId": "831f1fa5-de84-4f22-880a-4c3f23fc3f04",
        "anonymousId": "bf412108-0357-4330-b119-7305e767823c",
        "integrations": {
          "All": true,
          "Wootric": {
            "eventType": "create response"
          }
        },
        "originalTimestamp": "2022-01-20T13:39:21.032Z"
      }
    },
    "output": {
      "version": "1",
      "type": "REST",
      "method": "POST",
      "endpoint": "https://api.wootric.com/v1/end_users/486438462/responses",
      "headers": {
        "Content-Type": "application/x-www-form-urlencoded",
        "Authorization": "Bearer 2fe581c1c72851e73d60f4191f720be93e5d3e8a6147e37c4e8e852b1a8f506c"
      },
      "params": {},
      "body": {
        "JSON": {},
        "JSON_ARRAY": {},
        "XML": {},
        "FORM": {
          "score": 7,
          "ip_address": "0.0.0.0",
          "origin_url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
          "text": "Simple, Easy to use, Reliable, Affordable Product",
          "created_at": "1611149961",
          "end_user[properties][city]": "Mumbai",
          "end_user[properties][name]": "Dummy User 1",
          "end_user[properties][title]": "SDE",
          "end_user[properties][gender]": "Male",
          "end_user[properties][company]": "Rudderstack"
        }
      },
      "files": {}
    }
  },
  {
    "description": "Track call with non-existing userId",
    "input": {
      "destination": {
        "Config": {
          "username": "wootricfakeuser@example.com",
          "password": "password@123",
          "accountToken": "NPS-1234567"
        },
        "ID": "wootric-1234"
      },
      "message": {
        "type": "track",
        "sentAt": "2022-01-20T13:39:21.033Z",
        "userId": "dummyId2",
        "channel": "web",
        "properties": {
          "feedbackScore": 7,
          "feedbackText": "Simple, Easy to use, Reliable, Affordable Product"
        },
        "context": {
          "os": {
            "name": "",
            "version": ""
          },
          "app": {
            "name": "RudderLabs JavaScript SDK",
            "build": "1.0.0",
            "version": "1.2.20",
            "namespace": "com.rudderlabs.javascript"
          },
          "page": {
            "url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "path": "/Testing/App_for_LaunchDarkly/ourSdk.html",
            "title": "Document",
            "search": "",
            "tab_url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "referrer": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/",
            "initial_referrer": "$direct",
            "referring_domain": "127.0.0.1:7307",
            "initial_referring_domain": ""
          },
          "locale": "en-US",
          "ip": "0.0.0.0",
          "screen": {
            "width": 1440,
            "height": 900,
            "density": 2,
            "innerWidth": 536,
            "innerHeight": 689
          },
          "library": {
            "name": "RudderLabs JavaScript SDK",
            "version": "1.2.20"
          },
          "campaign": {},
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36"
        },
        "rudderId": "553b5522-c575-40a7-8072-9741c5f9a647",
        "messageId": "831f1fa5-de84-4f22-880a-4c3f23fc3f04",
        "anonymousId": "bf412108-0357-4330-b119-7305e767823c",
        "integrations": {
          "All": true,
          "Wootric": {
            "eventType": "create response"
          }
        },
        "originalTimestamp": "2022-01-20T13:39:21.032Z"
      }
    },
    "output": {
      "statusCode": 400,
      "error": "No user found with userId : dummyId2",
      "statTags": {
        "destination": "wootric",
        "stage": "transform",
        "scope": "exception"
      }
    }
  },
  {
    "description": "Track call with non-existing wootricEndUserId",
    "input": {
      "destination": {
        "Config": {
          "username": "wootricfakeuser@example.com",
          "password": "password@123",
          "accountToken": "NPS-1234567"
        },
        "ID": "wootric-1234"
      },
      "message": {
        "type": "track",
        "sentAt": "2022-01-20T13:39:21.033Z",
        "channel": "web",
        "properties": {
          "feedbackScore": 7,
          "feedbackText": "Simple, Easy to use, Reliable, Affordable Product"
        },
        "context": {
          "os": {
            "name": "",
            "version": ""
          },
          "app": {
            "name": "RudderLabs JavaScript SDK",
            "build": "1.0.0",
            "version": "1.2.20",
            "namespace": "com.rudderlabs.javascript"
          },
          "page": {
            "url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "path": "/Testing/App_for_LaunchDarkly/ourSdk.html",
            "title": "Document",
            "search": "",
            "tab_url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "referrer": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/",
            "initial_referrer": "$direct",
            "referring_domain": "127.0.0.1:7307",
            "initial_referring_domain": ""
          },
          "locale": "en-US",
          "ip": "0.0.0.0",
          "screen": {
            "width": 1440,
            "height": 900,
            "density": 2,
            "innerWidth": 536,
            "innerHeight": 689
          },
          "library": {
            "name": "RudderLabs JavaScript SDK",
            "version": "1.2.20"
          },
          "externalId": [{ "type": "wootricEndUserId", "id": "12345" }],
          "campaign": {},
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36"
        },
        "rudderId": "553b5522-c575-40a7-8072-9741c5f9a647",
        "messageId": "831f1fa5-de84-4f22-880a-4c3f23fc3f04",
        "anonymousId": "bf412108-0357-4330-b119-7305e767823c",
        "integrations": {
          "All": true,
          "Wootric": {
            "eventType": "create response"
          }
        },
        "originalTimestamp": "2022-01-20T13:39:21.032Z"
      }
    },
    "output": {
      "statusCode": 400,
      "error": "No user found with wootric end user Id : 12345",
      "statTags": {
        "destination": "wootric",
        "stage": "transform",
        "scope": "exception"
      }
    }
  },
  {
    "description": "Track call with existing userId and event type as create response and score out of bound",
    "input": {
      "destination": {
        "Config": {
          "username": "wootricfakeuser@example.com",
          "password": "password@123",
          "accountToken": "NPS-1234567"
        },
        "ID": "wootric-1234"
      },
      "message": {
        "type": "track",
        "sentAt": "2022-01-20T13:39:21.033Z",
        "userId": "dummyId1",
        "channel": "web",
        "properties": {
          "feedbackScore": 12,
          "feedbackText": "Simple, Easy to use, Reliable, Affordable Product"
        },
        "context": {
          "os": {
            "name": "",
            "version": ""
          },
          "app": {
            "name": "RudderLabs JavaScript SDK",
            "build": "1.0.0",
            "version": "1.2.20",
            "namespace": "com.rudderlabs.javascript"
          },
          "page": {
            "url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "path": "/Testing/App_for_LaunchDarkly/ourSdk.html",
            "title": "Document",
            "search": "",
            "tab_url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "referrer": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/",
            "initial_referrer": "$direct",
            "referring_domain": "127.0.0.1:7307",
            "initial_referring_domain": ""
          },
          "locale": "en-US",
          "ip": "0.0.0.0",
          "screen": {
            "width": 1440,
            "height": 900,
            "density": 2,
            "innerWidth": 536,
            "innerHeight": 689
          },
          "library": {
            "name": "RudderLabs JavaScript SDK",
            "version": "1.2.20"
          },
          "campaign": {},
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36"
        },
        "rudderId": "553b5522-c575-40a7-8072-9741c5f9a647",
        "messageId": "831f1fa5-de84-4f22-880a-4c3f23fc3f04",
        "anonymousId": "bf412108-0357-4330-b119-7305e767823c",
        "integrations": {
          "All": true,
          "Wootric": {
            "eventType": "create response"
          }
        },
        "originalTimestamp": "2022-01-20T13:39:21.032Z"
      }
    },
    "output": {
      "statusCode": 400,
      "error": "Invalid Score",
      "statTags": {
        "destination": "wootric",
        "stage": "transform",
        "scope": "exception"
      }
    }
  },
  {
    "description": "Track call with existing userId and event type as create decline",
    "input": {
      "destination": {
        "Config": {
          "username": "wootricfakeuser@example.com",
          "password": "password@123",
          "accountToken": "NPS-1234567"
        },
        "ID": "wootric-1234"
      },
      "message": {
        "type": "track",
        "sentAt": "2022-01-20T13:39:21.033Z",
        "userId": "dummyId1",
        "channel": "web",
        "properties": {
          "feedbackScore": 9,
          "feedbackText": "Simple, Easy to use, Reliable, Affordable Product"
        },
        "context": {
          "os": {
            "name": "",
            "version": ""
          },
          "app": {
            "name": "RudderLabs JavaScript SDK",
            "build": "1.0.0",
            "version": "1.2.20",
            "namespace": "com.rudderlabs.javascript"
          },
          "page": {
            "url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "path": "/Testing/App_for_LaunchDarkly/ourSdk.html",
            "title": "Document",
            "search": "",
            "tab_url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "referrer": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/",
            "initial_referrer": "$direct",
            "referring_domain": "127.0.0.1:7307",
            "initial_referring_domain": ""
          },
          "locale": "en-US",
          "screen": {
            "width": 1440,
            "height": 900,
            "density": 2,
            "innerWidth": 536,
            "innerHeight": 689
          },
          "library": {
            "name": "RudderLabs JavaScript SDK",
            "version": "1.2.20"
          },
          "campaign": {},
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36"
        },
        "rudderId": "553b5522-c575-40a7-8072-9741c5f9a647",
        "messageId": "831f1fa5-de84-4f22-880a-4c3f23fc3f04",
        "anonymousId": "bf412108-0357-4330-b119-7305e767823c",
        "integrations": {
          "All": true,
          "Wootric": {
            "eventType": "create decline"
          }
        },
        "originalTimestamp": "2022-01-20T13:39:21.032Z"
      }
    },
    "output": {
      "version": "1",
      "type": "REST",
      "method": "POST",
      "endpoint": "https://api.wootric.com/v1/end_users/486438462/declines",
      "headers": {
        "Content-Type": "application/x-www-form-urlencoded",
        "Authorization": "Bearer 2fe581c1c72851e73d60f4191f720be93e5d3e8a6147e37c4e8e852b1a8f506c"
      },
      "params": {},
      "body": {
        "JSON": {},
        "JSON_ARRAY": {},
        "XML": {},
        "FORM": {
          "origin_url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html"
        }
      },
      "files": {}
    }
  },
  {
    "description": "Track call with non-existing userId and event type as create decline",
    "input": {
      "destination": {
        "Config": {
          "username": "wootricfakeuser@example.com",
          "password": "password@123",
          "accountToken": "NPS-1234567"
        },
        "ID": "wootric-1234"
      },
      "message": {
        "type": "track",
        "sentAt": "2022-01-20T13:39:21.033Z",
        "userId": "dummyId2",
        "channel": "web",
        "properties": {
          "feedbackScore": 9,
          "feedbackText": "Simple, Easy to use, Reliable, Affordable Product"
        },
        "context": {
          "os": {
            "name": "",
            "version": ""
          },
          "app": {
            "name": "RudderLabs JavaScript SDK",
            "build": "1.0.0",
            "version": "1.2.20",
            "namespace": "com.rudderlabs.javascript"
          },
          "page": {
            "url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "path": "/Testing/App_for_LaunchDarkly/ourSdk.html",
            "title": "Document",
            "search": "",
            "tab_url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "referrer": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/",
            "initial_referrer": "$direct",
            "referring_domain": "127.0.0.1:7307",
            "initial_referring_domain": ""
          },
          "locale": "en-US",
          "screen": {
            "width": 1440,
            "height": 900,
            "density": 2,
            "innerWidth": 536,
            "innerHeight": 689
          },
          "library": {
            "name": "RudderLabs JavaScript SDK",
            "version": "1.2.20"
          },
          "campaign": {},
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36"
        },
        "rudderId": "553b5522-c575-40a7-8072-9741c5f9a647",
        "messageId": "831f1fa5-de84-4f22-880a-4c3f23fc3f04",
        "anonymousId": "bf412108-0357-4330-b119-7305e767823c",
        "integrations": {
          "All": true,
          "Wootric": {
            "eventType": "create decline"
          }
        },
        "originalTimestamp": "2022-01-20T13:39:21.032Z"
      }
    },
    "output": {
      "statusCode": 400,
      "error": "No user found with userId : dummyId2",
      "statTags": {
        "destination": "wootric",
        "stage": "transform",
        "scope": "exception"
      }
    }
  },
  {
    "description": "Track call with event type other than create response or decline",
    "input": {
      "destination": {
        "Config": {
          "username": "wootricfakeuser@example.com",
          "password": "password@123",
          "accountToken": "NPS-1234567"
        },
        "ID": "wootric-1234"
      },
      "message": {
        "type": "track",
        "sentAt": "2022-01-20T13:39:21.033Z",
        "userId": "dummyId1",
        "channel": "web",
        "properties": {
          "feedbackScore": 7,
          "feedbackText": "Simple, Easy to use, Reliable, Affordable Product"
        },
        "context": {
          "os": {
            "name": "",
            "version": ""
          },
          "app": {
            "name": "RudderLabs JavaScript SDK",
            "build": "1.0.0",
            "version": "1.2.20",
            "namespace": "com.rudderlabs.javascript"
          },
          "page": {
            "url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "path": "/Testing/App_for_LaunchDarkly/ourSdk.html",
            "title": "Document",
            "search": "",
            "tab_url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "referrer": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/",
            "initial_referrer": "$direct",
            "referring_domain": "127.0.0.1:7307",
            "initial_referring_domain": ""
          },
          "locale": "en-US",
          "ip": "0.0.0.0",
          "screen": {
            "width": 1440,
            "height": 900,
            "density": 2,
            "innerWidth": 536,
            "innerHeight": 689
          },
          "traits": {
            "city": "Mumbai",
            "name": "Dummy User 1",
            "email": "dummyUser1@gmail.com",
            "phone": "+19123456789",
            "title": "SDE",
            "gender": "Male",
            "company": "Rudderstack",
            "createdAt": "2021-01-20T13:39:21.032Z"
          },
          "library": {
            "name": "RudderLabs JavaScript SDK",
            "version": "1.2.20"
          },
          "campaign": {},
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36"
        },
        "rudderId": "553b5522-c575-40a7-8072-9741c5f9a647",
        "messageId": "831f1fa5-de84-4f22-880a-4c3f23fc3f04",
        "anonymousId": "bf412108-0357-4330-b119-7305e767823c",
        "integrations": {
          "All": true,
          "Wootric": {
            "eventType": "random"
          }
        },
        "originalTimestamp": "2022-01-20T13:39:21.032Z"
      }
    },
    "output": {
      "statusCode": 400,
      "error": "Event Type not supported",
      "statTags": {
        "destination": "wootric",
        "stage": "transform",
        "scope": "exception"
      }
    }
  },
  {
    "description": "Track call with missing event type in integration object",
    "input": {
      "destination": {
        "Config": {
          "username": "wootricfakeuser@example.com",
          "password": "password@123",
          "accountToken": "NPS-1234567"
        },
        "ID": "wootric-1234"
      },
      "message": {
        "type": "track",
        "sentAt": "2022-01-20T13:39:21.033Z",
        "userId": "dummyId1",
        "channel": "web",
        "properties": {
          "feedbackScore": 3,
          "feedbackText": "Too Slow!!!"
        },
        "context": {
          "os": {
            "name": "",
            "version": ""
          },
          "app": {
            "name": "RudderLabs JavaScript SDK",
            "build": "1.0.0",
            "version": "1.2.20",
            "namespace": "com.rudderlabs.javascript"
          },
          "page": {
            "url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "path": "/Testing/App_for_LaunchDarkly/ourSdk.html",
            "title": "Document",
            "search": "",
            "tab_url": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/ourSdk.html",
            "referrer": "http://127.0.0.1:7307/Testing/App_for_LaunchDarkly/",
            "initial_referrer": "$direct",
            "referring_domain": "127.0.0.1:7307",
            "initial_referring_domain": ""
          },
          "locale": "en-US",
          "ip": "0.0.0.0",
          "screen": {
            "width": 1440,
            "height": 900,
            "density": 2,
            "innerWidth": 536,
            "innerHeight": 689
          },
          "traits": {
            "city": "Mumbai",
            "name": "Dummy User 1",
            "email": "dummyUser1@gmail.com",
            "phone": "+19123456789",
            "title": "SDE",
            "gender": "Male",
            "company": "Rudderstack",
            "createdAt": "2021-01-20T13:39:21.032Z"
          },
          "library": {
            "name": "RudderLabs JavaScript SDK",
            "version": "1.2.20"
          },
          "campaign": {},
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36"
        },
        "rudderId": "553b5522-c575-40a7-8072-9741c5f9a647",
        "messageId": "831f1fa5-de84-4f22-880a-4c3f23fc3f04",
        "anonymousId": "bf412108-0357-4330-b119-7305e767823c",
        "integrations": {
          "All": true
        },
        "originalTimestamp": "2022-01-20T13:39:21.032Z"
      }
    },
    "output": {
      "statusCode": 400,
      "error": "Event Type is missing from Integration object",
      "statTags": {
        "destination": "wootric",
        "stage": "transform",
        "scope": "exception"
      }
    }
  }
]

[
  {
    "destKey": "conversions[0].gbraid",
    "sourceKeys": "properties.gbraid",
    "required": false,
    "metadata": {
      "type": "toString"
    }
  },
  {
    "destKey": "conversions[0].wbraid",
    "sourceKeys": "properties.wbraid",
    "required": false,
    "metadata": {
      "type": "toString"
    }
  },
  {
    "destKey": "conversions[0].externalAttributionData.externalAttributionCredit",
    "sourceKeys": "properties.externalAttributionCredit",
    "required": false,
    "metadata": {
      "type": "toNumber"
    }
  },
  {
    "destKey": "conversions[0].externalAttributionData.externalAttributionModel",
    "sourceKeys": "properties.externalAttributionModel",
    "required": false,
    "metadata": {
      "type": "toString"
    }
  },
  {
    "destKey": "conversions[0].cartData.merchantId",
    "sourceKeys": "properties.merchantId",
    "required": false,
    "metadata": {
      "type": "toString"
    }
  },
  {
    "destKey": "conversions[0].cartData.feedCountryCode",
    "sourceKeys": "properties.feedCountryCode",
    "required": false,
    "metadata": {
      "type": "toString"
    }
  },
  {
    "destKey": "conversions[0].cartData.feedLanguageCode",
    "sourceKeys": "properties.feedLanguageCode",
    "required": false,
    "metadata": {
      "type": "toString"
    }
  },
  {
    "destKey": "conversions[0].cartData.localTransactionCost",
    "sourceKeys": "properties.localTransactionCost",
    "required": false,
    "metadata": {
      "type": "toNumber"
    }
  },
  {
    "destKey": "conversions[0].cartData.items[0].productId",
    "sourceKeys": "properties.product_id",
    "required": false,
    "metadata": {
      "type": "toString"
    }
  },
  {
    "destKey": "conversions[0].cartData.items[0].quantity",
    "sourceKeys": "properties.quantity",
    "required": false,
    "metadata": {
      "type": "toInt"
    }
  },
  {
    "destKey": "conversions[0].cartData.items[0].unitPrice",
    "sourceKeys": "properties.price",
    "required": false,
    "metadata": {
      "type": "toNumber"
    }
  },
  {
    "destKey": "conversions[0].userIdentifiers[0].userIdentifierSource",
    "sourceKeys": "properties.userIdentifierSource",
    "required": false,
    "metadata": {
      "type": "toString",
      "allowedKeyCheck": [
        {
          "sourceVal": ["UNSPECIFIED", "UNKNOWN", "FIRST_PARTY", "THIRD_PARTY"],
          "type": "toUpperCase"
        }
      ]
    }
  },
  {
    "destKey": "conversions[0].userIdentifiers[0].hashedEmail",
    "sourceKeys": "email",
    "sourceFromGenericMap": true,
    "required": false,
    "metadata": {
      "type": "hashToSha256"
    }
  },
  {
    "destKey": "conversions[0].userIdentifiers[0].hashedPhoneNumber",
    "sourceKeys": "phone",
    "sourceFromGenericMap": true,
    "required": false,
    "metadata": {
      "type": "hashToSha256"
    }
  },
  {
    "destKey": "conversions[0].userIdentifiers[0].mobileId",
    "sourceKeys": "context.device.advertisingId",
    "required": false,
    "metadata": {
      "type": "toString"
    }
  },
  {
    "destKey": "conversions[0].userIdentifiers[0].thirdPartyUserId",
    "sourceKeys": "userId",
    "sourceFromGenericMap": true,
    "required": false,
    "metadata": {
      "type": "toString"
    }
  },
  {
    "destKey": "conversions[0].userIdentifiers[0].addressInfo.hashedFirstName",
    "sourceKeys": "firstName",
    "sourceFromGenericMap": true,
    "required": false,
    "metadata": {
      "type": "hashToSha256"
    }
  },
  {
    "destKey": "conversions[0].userIdentifiers[0].addressInfo.hashedLastName",
    "sourceKeys": "lastName",
    "sourceFromGenericMap": true,
    "required": false,
    "metadata": {
      "type": "hashToSha256"
    }
  },
  {
    "destKey": "conversions[0].userIdentifiers[0].addressInfo.city",
    "sourceKeys": [
      "traits.city",
      "traits.address.city",
      "context.traits.city",
      "context.traits.address.city"
    ],
    "required": false,
    "metadata": {
      "type": "toString"
    }
  },
  {
    "destKey": "conversions[0].userIdentifiers[0].addressInfo.state",
    "sourceKeys": [
      "traits.state",
      "traits.address.state",
      "context.traits.state",
      "context.traits.address.state"
    ],
    "required": false,
    "metadata": {
      "type": "toString"
    }
  },
  {
    "destKey": "conversions[0].userIdentifiers[0].addressInfo.countryCode",
    "sourceKeys": [
      "traits.countryCode",
      "traits.country",
      "traits.address.countryCode",
      "traits.address.country",
      "context.traits.countryCode",
      "context.traits.country",
      "context.traits.address.countryCode",
      "context.traits.address.country"
    ],
    "required": false,
    "metadata": {
      "type": "toString"
    }
  },
  {
    "destKey": "conversions[0].userIdentifiers[0].addressInfo.postalCode",
    "sourceKeys": [
      "traits.postalCode",
      "traits.address.postalCode",
      "context.traits.postalCode",
      "context.traits.address.postalCode"
    ],
    "required": false,
    "metadata": {
      "type": "toString"
    }
  },
  {
    "destKey": "conversions[0].userIdentifiers[0].addressInfo.hashedStreetAddress",
    "sourceKeys": [
      "traits.streetAddress",
      "traits.address",
      "context.traits.streetAddress",
      "context.traits.address"
    ],
    "required": false,
    "metadata": {
      "type": "hashToSha256"
    }
  },
  {
    "destKey": "conversions[0].conversionEnvironment",
    "sourceKeys": "properties.conversionEnvironment",
    "required": false,
    "metadata": {
      "type": "toString",
      "allowedKeyCheck": [
        {
          "sourceVal": ["UNSPECIFIED", "UNKNOWN", "APP", "WEB"],
          "type": "toUpperCase"
        }
      ]
    }
  },
  {
    "destKey": "conversions[0].gclid",
    "sourceKeys": "properties.gclid",
    "required": false
  },
  {
    "destKey": "conversions[0].conversionDateTime",
    "sourceKeys": ["properties.conversionDateTime", "originalTimestamp"],
    "required": true,
    "metadata": {
      "type": "toString"
    }
  },
  {
    "destKey": "conversions[0].conversionValue",
    "sourceKeys": [
      "properties.conversionValue",
      "properties.total",
      "properties.value",
      "properties.revenue"
    ],
    "required": false,
    "metadata": {
      "type": "toNumber"
    }
  },
  {
    "destKey": "conversions[0].currencyCode",
    "sourceKeys": ["properties.currencyCode", "properties.currency"],
    "required": false,
    "metadata": {
      "type": "toString"
    }
  },
  {
    "destKey": "conversions[0].orderId",
    "sourceKeys": ["properties.orderId", "properties.order_id"],
    "required": false,
    "metadata": {
      "type": "toString"
    }
  }
]

[
  {
    "input": {
      "message": {
        "request_ip": "[::1]:57363",
        "name": "home",
        "timestamp": "2020-04-17T20:25:31.381+05:30",
        "userId": "user12345",
        "integrations": { "All": true },
        "receivedAt": "2020-04-17T20:25:31.381+05:30",
        "anonymousId": "ac7722c2-ccb6-4ae2-baf6-1effe861f4cd",
        "channel": "web",
        "context": {
          "locale": "en-GB",
          "app": {
            "version": "1.1.1-rc.2",
            "namespace": "com.rudderlabs.javascript",
            "build": "1.0.0",
            "name": "RudderLabs JavaScript SDK"
          },
          "library": {
            "version": "1.1.1-rc.2",
            "name": "RudderLabs JavaScript SDK"
          },
          "traits": {
            "age": 23,
            "email": "testmp@rudderstack.com",
            "firstname": "Test Kafka"
          },
          "screen": { "density": 2 },
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.163 Safari/537.36",
          "os": { "version": "", "name": "" },
          "page": {
            "url": "http://localhost/tests/html/index4.html",
            "path": "/tests/html/index4.html",
            "search": "",
            "referrer": "",
            "title": ""
          }
        },
        "messageId": "258b77c6-442d-4bdc-8729-f0e4cef41353",
        "type": "page",
        "properties": {
          "url": "http://localhost/tests/html/index4.html",
          "path": "/tests/html/index4.html",
          "search": "",
          "referrer": "",
          "title": ""
        },
        "originalTimestamp": "2020-04-17T14:55:31.367Z",
        "sentAt": "2020-04-17T14:55:31.367Z"
      },
      "destination": {
        "Transformations": [],
        "Enabled": true,
        "Name": "Segment",
        "Config": { "writeKey": "abcdefghijklmnopqrstuvwxyz" },
        "ID": "1afmecIpsJm7D72aRTksxyODrwR",
        "DestinationDefinition": {
          "DisplayName": "Segment",
          "Config": { "excludeKeys": [], "includeKeys": [] },
          "ID": "1afjjahf0X5lSyNze7Xh7aqJs11",
          "Name": "SEGMENT"
        },
        "IsProcessorEnabled": true
      },
      "metadata": {
        "sourceId": "1afjLW184k0nlnvtRlNcTO4TexW",
        "destinationType": "SEGMENT",
        "jobId": 1,
        "destinationId": "1afmecIpsJm7D72aRTksxyODrwR",
        "anonymousId": "ac7722c2-ccb6-4ae2-baf6-1effe861f4cd",
        "messageId": "258b77c6-442d-4bdc-8729-f0e4cef41353"
      }
    },
    "output": [
      {
        "body": {
          "XML": {},
          "JSON": {
            "batch": [
              {
                "userId": "user12345",
                "type": "page",
                "timeStamp": "2020-04-17T14:55:31.367Z",
                "traits": {
                  "age": 23,
                  "email": "testmp@rudderstack.com",
                  "firstname": "Test Kafka"
                }
              }
            ]
          },
          "FORM": {}
        },
        "files": {},
        "endpoint": "https://api.segment.io/v1/batch",
        "userId": "user12345",
        "headers": {
          "Content-Type": "application/json",
          "Authorization": "Basic YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXo6"
        },
        "version": "1",
        "params": {},
        "type": "REST",
        "method": "POST",
        "statusCode": 200
      }
    ]
  },
  {
    "input": {
      "message": {
        "request_ip": "[::1]:57364",
        "timestamp": "2020-04-17T20:25:31.401+05:30",
        "userId": "user12345",
        "integrations": { "All": true },
        "receivedAt": "2020-04-17T20:25:31.401+05:30",
        "anonymousId": "ac7722c2-ccb6-4ae2-baf6-1effe861f4cd",
        "originalTimestamp": "2020-04-17T14:55:31.37Z",
        "context": {
          "locale": "en-GB",
          "app": {
            "version": "1.1.1-rc.2",
            "namespace": "com.rudderlabs.javascript",
            "build": "1.0.0",
            "name": "RudderLabs JavaScript SDK"
          },
          "library": {
            "version": "1.1.1-rc.2",
            "name": "RudderLabs JavaScript SDK"
          },
          "traits": {
            "age": 23,
            "email": "testmp@email.com",
            "firstname": "Test Transformer"
          },
          "screen": { "density": 2 },
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.163 Safari/537.36",
          "os": { "version": "", "name": "" },
          "page": {
            "url": "http://localhost/tests/html/index4.html",
            "path": "/tests/html/index4.html",
            "search": "",
            "referrer": "",
            "title": ""
          }
        },
        "messageId": "023a3a48-190a-4968-9394-a8e99b81a3c0",
        "type": "identify",
        "channel": "web",
        "sentAt": "2020-04-17T14:55:31.37Z"
      },
      "destination": {
        "Transformations": [],
        "Enabled": true,
        "Name": "Segment",
        "Config": { "writeKey": "abcdefghijklmnopqrstuvwxyz" },
        "ID": "1afmecIpsJm7D72aRTksxyODrwR",
        "DestinationDefinition": {
          "DisplayName": "Segment",
          "Config": { "excludeKeys": [], "includeKeys": [] },
          "ID": "1afjjahf0X5lSyNze7Xh7aqJs11",
          "Name": "SEGMENT"
        },
        "IsProcessorEnabled": true
      },
      "metadata": {
        "sourceId": "1afjLW184k0nlnvtRlNcTO4TexW",
        "destinationType": "SEGMENT",
        "jobId": 2,
        "destinationId": "1afmecIpsJm7D72aRTksxyODrwR",
        "anonymousId": "ac7722c2-ccb6-4ae2-baf6-1effe861f4cd",
        "messageId": "023a3a48-190a-4968-9394-a8e99b81a3c0"
      }
    },
    "output": [
      {
        "body": {
          "XML": {},
          "JSON": {
            "batch": [
              {
                "userId": "user12345",
                "type": "identify",
                "timeStamp": "2020-04-17T14:55:31.37Z",
                "traits": {
                  "age": 23,
                  "email": "testmp@email.com",
                  "firstname": "Test Transformer"
                }
              }
            ]
          },
          "FORM": {}
        },
        "files": {},
        "endpoint": "https://api.segment.io/v1/batch",
        "userId": "user12345",
        "headers": {
          "Content-Type": "application/json",
          "Authorization": "Basic YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXo6"
        },
        "version": "1",
        "params": {},
        "type": "REST",
        "method": "POST",
        "statusCode": 200
      }
    ]
  },
  {
    "input": {
      "message": {
        "request_ip": "[::1]:57365",
        "timestamp": "2020-04-17T20:25:31.401+05:30",
        "userId": "user12345",
        "integrations": { "All": true },
        "event": "test track with property",
        "receivedAt": "2020-04-17T20:25:31.401+05:30",
        "anonymousId": "ac7722c2-ccb6-4ae2-baf6-1effe861f4cd",
        "channel": "web",
        "context": {
          "locale": "en-GB",
          "app": {
            "version": "1.1.1-rc.2",
            "namespace": "com.rudderlabs.javascript",
            "build": "1.0.0",
            "name": "RudderLabs JavaScript SDK"
          },
          "library": {
            "version": "1.1.1-rc.2",
            "name": "RudderLabs JavaScript SDK"
          },
          "traits": {
            "age": 23,
            "email": "testmp@email.com",
            "firstname": "Test Transformer"
          },
          "screen": { "density": 2 },
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.163 Safari/537.36",
          "os": { "version": "", "name": "" },
          "page": {
            "url": "http://localhost/tests/html/index4.html",
            "path": "/tests/html/index4.html",
            "search": "",
            "referrer": "",
            "title": ""
          }
        },
        "messageId": "584fde02-901a-4964-a4a0-4078b999d5b2",
        "type": "track",
        "properties": { "test_prop_2": 1232, "test_prop_1": "test prop" },
        "originalTimestamp": "2020-04-17T14:55:31.372Z",
        "sentAt": "2020-04-17T14:55:31.372Z"
      },
      "destination": {
        "Transformations": [],
        "Enabled": true,
        "Name": "Segment",
        "Config": { "writeKey": "abcdefghijklmnopqrstuvwxyz" },
        "ID": "1afmecIpsJm7D72aRTksxyODrwR",
        "DestinationDefinition": {
          "DisplayName": "Segment",
          "Config": { "excludeKeys": [], "includeKeys": [] },
          "ID": "1afjjahf0X5lSyNze7Xh7aqJs11",
          "Name": "SEGMENT"
        },
        "IsProcessorEnabled": true
      },
      "metadata": {
        "sourceId": "1afjLW184k0nlnvtRlNcTO4TexW",
        "destinationType": "SEGMENT",
        "jobId": 3,
        "destinationId": "1afmecIpsJm7D72aRTksxyODrwR",
        "anonymousId": "ac7722c2-ccb6-4ae2-baf6-1effe861f4cd",
        "messageId": "584fde02-901a-4964-a4a0-4078b999d5b2"
      }
    },
    "output": [
      {
        "body": {
          "XML": {},
          "JSON": {
            "batch": [
              {
                "userId": "user12345",
                "timeStamp": "2020-04-17T14:55:31.372Z",
                "type": "track",
                "event": "test track with property",
                "traits": {
                  "age": 23,
                  "email": "testmp@email.com",
                  "firstname": "Test Transformer"
                }
              }
            ]
          },
          "FORM": {}
        },
        "files": {},
        "endpoint": "https://api.segment.io/v1/batch",
        "userId": "user12345",
        "headers": {
          "Content-Type": "application/json",
          "Authorization": "Basic YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXo6"
        },
        "version": "1",
        "params": {},
        "type": "REST",
        "method": "POST",
        "statusCode": 200
      }
    ]
  }
]
